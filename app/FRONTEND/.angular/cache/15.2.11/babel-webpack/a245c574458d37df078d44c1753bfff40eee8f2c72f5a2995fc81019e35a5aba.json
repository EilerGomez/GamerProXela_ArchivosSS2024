{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SolicitudesModificacionClienteComponent = class SolicitudesModificacionClienteComponent {\n  constructor(servicioClientes) {\n    this.servicioClientes = servicioClientes;\n    this.mostrarNuevaSolicitud = false;\n  }\n  ngOnInit() {\n    this.servicioClientes.getClientes(this.getRolDB()).subscribe(data => {\n      this.clientes = data;\n      this.clientesT = data;\n      this.llamarSolicitudes();\n    }, error => {\n      console.log(error);\n    });\n  }\n  llamarSolicitudes() {\n    this.servicioClientes.getSolicitudesClientesModificacion(this.getRolDB()).subscribe(data => {\n      this.solicitudes = data;\n      this.solicitudesT = data;\n    });\n  }\n  guardarNuevaSolicitud(solicitudModificacionClienteForm) {\n    solicitudModificacionClienteForm.resetForm();\n  }\n  NuevaSolicitud() {\n    this.mostrarNuevaSolicitud = true;\n  }\n  getEstadoSolicitud(aprobacion) {\n    return aprobacion ? \"APROBADA\" : \"NO APROBADA\";\n  }\n  searchSolicitudes(clave) {\n    this.solicitudes = clave === \"\" ? this.solicitudesT : this.buscarSolicitudes(clave, this.solicitudesT);\n  }\n  buscarSolicitudes(clave, solicitudes) {\n    const claveNormalizada = clave.toLowerCase();\n    return solicitudes.filter(s => {\n      return s.id.toString().includes(claveNormalizada) || s.cliente.toString().includes(claveNormalizada) || s.n_cliente.toLowerCase().includes(claveNormalizada) || s.descripcion.toString().includes(claveNormalizada) || s.aprobacion.toString().includes(claveNormalizada);\n    });\n  }\n  searchClientes(clave) {\n    this.clientes = clave === \"\" ? this.clientesT : this.buscarClientes(clave, this.clientesT);\n  }\n  buscarClientes(clave, clientes) {\n    const claveNormalizada = clave.toLowerCase();\n    return clientes.filter(cliente => {\n      return cliente.identificacion.toString().includes(claveNormalizada) || cliente.nombre.toLowerCase().includes(claveNormalizada) || cliente.nit.toLowerCase().includes(claveNormalizada) || cliente.telefono.toString().includes(claveNormalizada);\n    });\n  }\n  getRolDB() {\n    let stringUser = localStorage.getItem('usuario');\n    let usuario = stringUser ? JSON.parse(stringUser) : null;\n    let rol = usuario ? usuario.rol : 0;\n    return rol;\n  }\n};\nSolicitudesModificacionClienteComponent = __decorate([Component({\n  selector: 'app-solicitudes-modificacion-cliente',\n  templateUrl: './solicitudes-modificacion-cliente.component.html',\n  styleUrls: ['./solicitudes-modificacion-cliente.component.css']\n})], SolicitudesModificacionClienteComponent);\nexport { SolicitudesModificacionClienteComponent };","map":{"version":3,"mappings":"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","names":["Component","SolicitudesModificacionClienteComponent","constructor","servicioClientes","ngOnInit","getClientes","getRolDB","subscribe","data","clientes","clientesT","llamarSolicitudes","error","console","log","getSolicitudesClientesModificacion","solicitudes","solicitudesT","guardarNuevaSolicitud","solicitudModificacionClienteForm","resetForm","NuevaSolicitud","mostrarNuevaSolicitud","getEstadoSolicitud","aprobacion","searchSolicitudes","clave","buscarSolicitudes","claveNormalizada","toLowerCase","filter","s","id","toString","includes","cliente","n_cliente","descripcion","searchClientes","buscarClientes","identificacion","nombre","nit","telefono","stringUser","localStorage","getItem","usuario","JSON","parse","rol","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/eiler/Documentos/Universidad/SegundoSemestre2024/Archivos/Proyecto1/app/FRONTEND/src/app/area-cajero/solicitudes-modificacion-cliente/solicitudes-modificacion-cliente.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { data } from 'jquery';\nimport { Cliente } from 'src/app/Modelo/Cliente';\nimport { SolicitudesModificacionCliente } from 'src/app/Modelo/SolicitudesModificacionCliente';\nimport { Usuario } from 'src/app/Modelo/Usuario';\nimport { ClientesService } from 'src/app/Service/clientes.service';\n@Component({\n  selector: 'app-solicitudes-modificacion-cliente',\n  templateUrl: './solicitudes-modificacion-cliente.component.html',\n  styleUrls: ['./solicitudes-modificacion-cliente.component.css']\n})\nexport class SolicitudesModificacionClienteComponent {\n  constructor(private servicioClientes:ClientesService){}\n\n  mostrarNuevaSolicitud:boolean=false;\n\n  solicitudes!:SolicitudesModificacionCliente[]\n  solicitudesT!:SolicitudesModificacionCliente[]\n  claveBusqueda!:string\n  claveBusquedaSolicitud!:string\n  clientes!:Cliente[]\n  clientesT!:Cliente[]\n\n  cliente!:number\n  descripcion!:string\n\n  ngOnInit():void{\n    this.servicioClientes.getClientes(this.getRolDB()).subscribe(data=>{\n      this.clientes=data;\n      this.clientesT=data;\n      this.llamarSolicitudes();\n    }, error=>{\n      console.log(error)\n    })\n  }\n\n  llamarSolicitudes(){\n    this.servicioClientes.getSolicitudesClientesModificacion(this.getRolDB()).subscribe(data=>{\n      this.solicitudes=data;\n      this.solicitudesT=data;\n    })\n  }\n\n\n  guardarNuevaSolicitud(solicitudModificacionClienteForm:NgForm){\n    solicitudModificacionClienteForm.resetForm();\n  }\n\n  NuevaSolicitud(){\n    this.mostrarNuevaSolicitud=true\n  }\n\n  getEstadoSolicitud(aprobacion:boolean):string{\n    return aprobacion? \"APROBADA\": \"NO APROBADA\";\n  }\n\n  searchSolicitudes(clave: string) {\n    this.solicitudes = clave === \"\" ? this.solicitudesT : this.buscarSolicitudes(clave, this.solicitudesT);\n  }\n  buscarSolicitudes(clave: string, solicitudes: SolicitudesModificacionCliente[]): SolicitudesModificacionCliente[] {\n    const claveNormalizada = clave.toLowerCase();\n    \n    return solicitudes.filter(s => {\n      return (\n        s.id.toString().includes(claveNormalizada) || \n        s.cliente.toString().includes(claveNormalizada)||\n        s.n_cliente.toLowerCase().includes(claveNormalizada)||\n        s.descripcion.toString().includes(claveNormalizada)||\n        s.aprobacion.toString().includes(claveNormalizada)\n      );\n    });\n  }\n\n  searchClientes(clave: string) {\n    this.clientes = clave === \"\" ? this.clientesT : this.buscarClientes(clave, this.clientesT);\n  }\n  buscarClientes(clave: string, clientes: Cliente[]): Cliente[] {\n    const claveNormalizada = clave.toLowerCase();\n    \n    return clientes.filter(cliente => {\n      return (\n        cliente.identificacion.toString().includes(claveNormalizada) || \n        cliente.nombre.toLowerCase().includes(claveNormalizada)||\n        cliente.nit.toLowerCase().includes(claveNormalizada)||\n        cliente.telefono.toString().includes(claveNormalizada)\n      );\n    });\n  }\n\n  getRolDB(){\n    let stringUser = localStorage.getItem('usuario');\n    let usuario:Usuario = stringUser? JSON.parse(stringUser):null;\n    let rol = usuario? usuario.rol:0;\n    return rol;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}