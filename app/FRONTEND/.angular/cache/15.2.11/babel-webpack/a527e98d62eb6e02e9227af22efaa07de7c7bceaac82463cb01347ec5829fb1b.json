{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductosCajerosComponent = class ProductosCajerosComponent {\n  constructor(servicioProductos) {\n    this.servicioProductos = servicioProductos;\n  }\n  ngOnInit() {\n    this.servicioProductos.getProductosSucursal(this.getSucursal(), this.getRolDB()).subscribe(data => {\n      this.productos = data;\n    }, error => {\n      console.log(error);\n    });\n  }\n  getRolDB() {\n    let stringUser = localStorage.getItem('usuario');\n    let usuario = stringUser ? JSON.parse(stringUser) : null;\n    let rol = usuario ? usuario.rol : 0;\n    return rol;\n  }\n  getIDUser() {\n    let stringUser = localStorage.getItem('usuario');\n    let usuario = stringUser ? JSON.parse(stringUser) : null;\n    let rol = usuario ? usuario.identificacion : 0;\n    return rol;\n  }\n  getSucursal() {\n    let stringUser = localStorage.getItem('usuario');\n    let usuario = stringUser ? JSON.parse(stringUser) : null;\n    let suc = usuario ? usuario.sucursal : 0;\n    return suc;\n  }\n  searchProducto(clave) {\n    this.productos = clave === \"\" ? this.productosT : this.buscarProductos(clave, this.productosT);\n  }\n  buscarProductos(clave, productos) {\n    const claveNormalizada = clave.toLowerCase();\n    return productos.filter(producto => {\n      return producto.nombre.toLowerCase().includes(claveNormalizada) || producto.codigo.toString().includes(clave);\n    });\n  }\n};\nProductosCajerosComponent = __decorate([Component({\n  selector: 'app-productos-cajeros',\n  templateUrl: './productos-cajeros.component.html',\n  styleUrls: ['./productos-cajeros.component.css']\n})], ProductosCajerosComponent);\nexport { ProductosCajerosComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,IAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EACpCC,YAAqBC,iBAAkC;IAAlC,sBAAiB,GAAjBA,iBAAiB;EAAmB;EAKzDC,QAAQ;IACN,IAAI,CAACD,iBAAiB,CAACE,oBAAoB,CAAC,IAAI,CAACC,WAAW,EAAE,EAAC,IAAI,CAACC,QAAQ,EAAE,CAAC,CAACC,SAAS,CAACC,IAAI,IAAE;MAC9F,IAAI,CAACC,SAAS,GAACD,IAAI;IACrB,CAAC,EAAEE,KAAK,IAAE;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACJ;EAEAJ,QAAQ;IACN,IAAIO,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAChD,IAAIC,OAAO,GAAWH,UAAU,GAAEI,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC,GAAC,IAAI;IAC7D,IAAIM,GAAG,GAAGH,OAAO,GAAEA,OAAO,CAACG,GAAG,GAAC,CAAC;IAChC,OAAOA,GAAG;EACZ;EACAC,SAAS;IACP,IAAIP,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAChD,IAAIC,OAAO,GAAWH,UAAU,GAAEI,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC,GAAC,IAAI;IAC7D,IAAIM,GAAG,GAAGH,OAAO,GAAEA,OAAO,CAACK,cAAc,GAAC,CAAC;IAC3C,OAAOF,GAAG;EACZ;EACAd,WAAW;IACT,IAAIQ,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAChD,IAAIC,OAAO,GAAWH,UAAU,GAAEI,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC,GAAC,IAAI;IAC7D,IAAIS,GAAG,GAAGN,OAAO,GAAEA,OAAO,CAACO,QAAQ,GAAC,CAAC;IACrC,OAAOD,GAAG;EACZ;EACAE,cAAc,CAACC,KAAa;IAC1B,IAAI,CAAChB,SAAS,GAAGgB,KAAK,KAAK,EAAE,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,eAAe,CAACF,KAAK,EAAE,IAAI,CAACC,UAAU,CAAC;EAChG;EAGAC,eAAe,CAACF,KAAa,EAAEhB,SAAqB;IAClD,MAAMmB,gBAAgB,GAAGH,KAAK,CAACI,WAAW,EAAE;IAE5C,OAAOpB,SAAS,CAACqB,MAAM,CAACC,QAAQ,IAAG;MACjC,OACEA,QAAQ,CAACC,MAAM,CAACH,WAAW,EAAE,CAACI,QAAQ,CAACL,gBAAgB,CAAC,IACxDG,QAAQ,CAACG,MAAM,CAACC,QAAQ,EAAE,CAACF,QAAQ,CAACR,KAAK,CAAC;IAE9C,CAAC,CAAC;EACJ;CAED;AAhDYzB,yBAAyB,eALrCD,SAAS,CAAC;EACTqC,QAAQ,EAAE,uBAAuB;EACjCC,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,mCAAmC;CAChD,CAAC,GACWtC,yBAAyB,CAgDrC;SAhDYA,yBAAyB","names":["Component","ProductosCajerosComponent","constructor","servicioProductos","ngOnInit","getProductosSucursal","getSucursal","getRolDB","subscribe","data","productos","error","console","log","stringUser","localStorage","getItem","usuario","JSON","parse","rol","getIDUser","identificacion","suc","sucursal","searchProducto","clave","productosT","buscarProductos","claveNormalizada","toLowerCase","filter","producto","nombre","includes","codigo","toString","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/eiler/Documentos/Universidad/SegundoSemestre2024/Archivos/Proyecto1/app/FRONTEND/src/app/area-cajero/productos-cajeros/productos-cajeros.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Producto } from 'src/app/Modelo/Producto';\nimport { ProductosService } from 'src/app/Service/productos.service';\nimport { Usuario } from 'src/app/Modelo/Usuario';\n@Component({\n  selector: 'app-productos-cajeros',\n  templateUrl: './productos-cajeros.component.html',\n  styleUrls: ['./productos-cajeros.component.css']\n})\nexport class ProductosCajerosComponent {\n  constructor( private servicioProductos:ProductosService){}\n\n  productos!:Producto[]\n  productosT!:Producto[]\n  claveBusqueda!:string\n  ngOnInit():void{\n    this.servicioProductos.getProductosSucursal(this.getSucursal(),this.getRolDB()).subscribe(data=>{\n      this.productos=data;\n    }, error=>{\n      console.log(error)\n    })\n  }\n\n  getRolDB(){\n    let stringUser = localStorage.getItem('usuario');\n    let usuario:Usuario = stringUser? JSON.parse(stringUser):null;\n    let rol = usuario? usuario.rol:0;\n    return rol;\n  }\n  getIDUser(){\n    let stringUser = localStorage.getItem('usuario');\n    let usuario:Usuario = stringUser? JSON.parse(stringUser):null;\n    let rol = usuario? usuario.identificacion:0;\n    return rol;\n  }\n  getSucursal(){\n    let stringUser = localStorage.getItem('usuario');\n    let usuario:Usuario = stringUser? JSON.parse(stringUser):null;\n    let suc = usuario? usuario.sucursal:0;\n    return suc;\n  }\n  searchProducto(clave: string) {\n    this.productos = clave === \"\" ? this.productosT : this.buscarProductos(clave, this.productosT);\n  }\n  \n\n  buscarProductos(clave: string, productos: Producto[]): Producto[] {\n    const claveNormalizada = clave.toLowerCase();\n    \n    return productos.filter(producto => {\n      return (\n        producto.nombre.toLowerCase().includes(claveNormalizada) || \n        producto.codigo.toString().includes(clave)\n      );\n    });\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}