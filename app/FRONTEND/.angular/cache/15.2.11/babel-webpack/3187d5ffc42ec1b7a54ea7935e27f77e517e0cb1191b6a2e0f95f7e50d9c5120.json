{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Service/clientes.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ClientesComponent_div_0_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.identificacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.telefono);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.nit);\n  }\n}\nfunction ClientesComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ClientesComponent_div_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.NuevoCliente());\n    });\n    i0.ɵɵelement(6, \"i\", 5);\n    i0.ɵɵtext(7, \" Agregar \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"div\", 6)(10, \"label\", 7);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 9)(14, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function ClientesComponent_div_0_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.claveBusqueda = $event);\n    })(\"input\", function ClientesComponent_div_0_Template_input_input_14_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.searchProducto(ctx_r7.claveBusqueda));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 11)(16, \"span\", 12);\n    i0.ɵɵelement(17, \"i\", 13);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵelementStart(19, \"table\", 14)(20, \"thead\")(21, \"tr\")(22, \"th\");\n    i0.ɵɵtext(23, \"Identificacion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"Telefono\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\");\n    i0.ɵɵtext(29, \"Nit\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(30, \"tbody\");\n    i0.ɵɵtemplate(31, ClientesComponent_div_0_tr_31_Template, 9, 4, \"tr\", 15);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Totales (\", ctx_r0.clientes.length, \") \");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"B\\u00FAsqueda totales: \", ctx_r0.clientes.length, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.claveBusqueda);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.clientes);\n  }\n}\nexport class ClientesComponent {\n  constructor(servicioClientes) {\n    this.servicioClientes = servicioClientes;\n    this.mostrarNuevoCliente = false;\n  }\n  ngOnInit() {\n    this.servicioClientes.getClientes(this.getRolDB()).subscribe(data => {\n      this.clientes = data;\n      this.clientesT = data;\n    }, error => {\n      console.log(error);\n    });\n  }\n  crearNuevoCliente() {}\n  NuevoCliente() {\n    this.mostrarNuevoCliente = true;\n  }\n  searchProducto(clave) {\n    this.clientes = clave === \"\" ? this.clientesT : this.buscarClientes(clave, this.clientesT);\n  }\n  buscarClientes(clave, clientes) {\n    const claveNormalizada = clave.toLowerCase();\n    return clientes.filter(cliente => {\n      return cliente.identificacion.toString().includes(claveNormalizada) || cliente.nombre.toLowerCase().includes(claveNormalizada) || cliente.nit.toLowerCase().includes(claveNormalizada) || cliente.telefono.toString().includes(claveNormalizada);\n    });\n  }\n  getRolDB() {\n    let stringUser = localStorage.getItem('usuario');\n    let usuario = stringUser ? JSON.parse(stringUser) : null;\n    let rol = usuario ? usuario.rol : 0;\n    return rol;\n  }\n  static #_ = this.ɵfac = function ClientesComponent_Factory(t) {\n    return new (t || ClientesComponent)(i0.ɵɵdirectiveInject(i1.ClientesService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClientesComponent,\n    selectors: [[\"app-clientes\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"container mt-5 pt-5\", 4, \"ngIf\"], [1, \"container\", \"mt-5\", \"pt-5\"], [1, \"card\"], [1, \"text-end\"], [\"aria-label\", \"Agregar compra\", 1, \"btn\", \"btn-primary\", \"ms-3\", \"mt-2\", 3, \"click\"], [1, \"bi\", \"bi-person-plus-fill\"], [1, \"form-group\", \"row\"], [\"for\", \"busqueda\", 1, \"col-md-4\", \"col-form-label\"], [1, \"col-md-8\"], [1, \"input-group\"], [\"type\", \"text\", \"id\", \"busqueda\", \"name\", \"busqueda\", \"placeholder\", \"Buscar clientes...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"input-group-append\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-search\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function ClientesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ClientesComponent_div_0_Template, 32, 4, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.mostrarNuevoCliente);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","ClientesComponent","constructor","servicioClientes","ngOnInit","getClientes","getRolDB","subscribe","data","clientes","clientesT","error","console","log","crearNuevoCliente","NuevoCliente","mostrarNuevoCliente","searchProducto","clave","buscarClientes","claveNormalizada","toLowerCase","filter","cliente","identificacion","toString","includes","nombre","nit","telefono","stringUser","localStorage","getItem","usuario","JSON","parse","rol","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/eiler/Documentos/Universidad/SegundoSemestre2024/Archivos/Proyecto1/app/FRONTEND/src/app/area-cajero/clientes/clientes.component.html","/home/eiler/Documentos/Universidad/SegundoSemestre2024/Archivos/Proyecto1/app/FRONTEND/src/app/area-cajero/clientes/clientes.component.ts"],"sourcesContent":["\n<div class=\"container mt-5 pt-5\" *ngIf=\"!mostrarNuevoCliente\" >\n    <div class=\"card\">\n        <h3>Totales ({{clientes.length}}) </h3>\n        <div class=\"text-end\">\n            <button class=\"btn btn-primary ms-3 mt-2\" aria-label=\"Agregar compra\" (click)=\"NuevoCliente()\">\n                <i class=\"bi bi-person-plus-fill\"></i> Agregar\n            </button>\n        </div><br>\n        <div class=\"form-group row\">\n            <label for=\"busqueda\" class=\"col-md-4 col-form-label\">Búsqueda totales: {{clientes.length}}</label>\n            <div class=\"col-md-8\">\n                <div class=\"input-group\">\n                    <input type=\"text\" class=\"form-control\" id=\"busqueda\"name=\"busqueda\" \n                        placeholder=\"Buscar clientes...\" [(ngModel)]=\"claveBusqueda\" \n                        (input)=\"searchProducto(claveBusqueda)\"\n                    >\n                    <div class=\"input-group-append\">\n                        <span class=\"input-group-text\">\n                            <i class=\"fas fa-search\"></i>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <br>\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <th>Identificacion</th>\n                    <th>Nombre</th>\n                    <th>Telefono</th>\n                    <th>Nit</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let c of clientes; let i = index\">\n                    <td>{{c.identificacion}}</td>\n                    <td>{{c.nombre}}</td>\n                    <td>{{c.telefono}}</td>\n                    <td>{{c.nit}}</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { Cliente } from 'src/app/Modelo/Cliente';\nimport { ClientesService } from 'src/app/Service/clientes.service';\nimport { Usuario } from 'src/app/Modelo/Usuario';\nimport { data, error } from 'jquery';\n@Component({\n  selector: 'app-clientes',\n  templateUrl: './clientes.component.html',\n  styleUrls: ['./clientes.component.css']\n})\nexport class ClientesComponent {\n  constructor(private servicioClientes:ClientesService){}\n  mostrarNuevoCliente:boolean=false;\n  clientes!:Cliente[]\n  clientesT!:Cliente[]\n  claveBusqueda!:string\n\n  nombreCliente!:string\n  telefonoCLiente!:number\n  nitCliente!:string\n\n  ngOnInit():void{\n    this.servicioClientes.getClientes(this.getRolDB()).subscribe(data=>{\n      this.clientes=data;\n      this.clientesT=data;\n    }, error=>{\n      console.log(error)\n    })\n  }\n  crearNuevoCliente(){\n\n  }\n  NuevoCliente(){\n    this.mostrarNuevoCliente=true\n  }\n\n  searchProducto(clave: string) {\n    this.clientes = clave === \"\" ? this.clientesT : this.buscarClientes(clave, this.clientesT);\n  }\n  \n\n  buscarClientes(clave: string, clientes: Cliente[]): Cliente[] {\n    const claveNormalizada = clave.toLowerCase();\n    \n    return clientes.filter(cliente => {\n      return (\n        cliente.identificacion.toString().includes(claveNormalizada) || \n        cliente.nombre.toLowerCase().includes(claveNormalizada)||\n        cliente.nit.toLowerCase().includes(claveNormalizada)||\n        cliente.telefono.toString().includes(claveNormalizada)\n      );\n    });\n  }\n\n  getRolDB(){\n    let stringUser = localStorage.getItem('usuario');\n    let usuario:Usuario = stringUser? JSON.parse(stringUser):null;\n    let rol = usuario? usuario.rol:0;\n    return rol;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}