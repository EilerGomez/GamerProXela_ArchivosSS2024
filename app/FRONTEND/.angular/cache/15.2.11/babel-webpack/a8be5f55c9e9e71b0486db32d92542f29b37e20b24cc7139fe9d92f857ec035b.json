{"ast":null,"code":"import { Usuario } from 'src/app/Modelo/Usuario';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Service/usuarios.service\";\nimport * as i2 from \"src/app/Service/sucursales.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ListarUsuariosComponent_div_0_option_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sucursal_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", sucursal_r11.identificacion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", sucursal_r11.nombre, \" \");\n  }\n}\nfunction ListarUsuariosComponent_div_0_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \" Las contrase\\u00F1as no coinciden. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListarUsuariosComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"nav\", 6)(5, \"h3\", 7);\n    i0.ɵɵtext(6, \"Nuevo Usuario\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"form\", 9, 10);\n    i0.ɵɵlistener(\"ngSubmit\", function ListarUsuariosComponent_div_0_Template_form_ngSubmit_8_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.crearNuevoUsuario());\n    });\n    i0.ɵɵelementStart(10, \"div\", 11)(11, \"label\", 12);\n    i0.ɵɵtext(12, \"Nombre de usuario:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 13, 14);\n    i0.ɵɵlistener(\"ngModelChange\", function ListarUsuariosComponent_div_0_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.nombreUsuario = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"div\", 11)(17, \"label\", 15);\n    i0.ɵɵtext(18, \"Rol del usuario:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"select\", 16, 17);\n    i0.ɵɵlistener(\"ngModelChange\", function ListarUsuariosComponent_div_0_Template_select_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.rolUsuario = $event);\n    });\n    i0.ɵɵelementStart(21, \"option\", 18);\n    i0.ɵɵtext(22, \"Administrador\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"option\", 18);\n    i0.ɵɵtext(24, \"De inventario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"option\", 18);\n    i0.ɵɵtext(26, \"Bodeguero\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"option\", 18);\n    i0.ɵɵtext(28, \"Cajero\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(29, \"br\");\n    i0.ɵɵelementStart(30, \"div\", 11)(31, \"label\", 19);\n    i0.ɵɵtext(32, \"Sucursal en la que trabajar\\u00E1:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"select\", 20, 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ListarUsuariosComponent_div_0_Template_select_ngModelChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.sucursalUsuario = $event);\n    });\n    i0.ɵɵtemplate(35, ListarUsuariosComponent_div_0_option_35_Template, 2, 2, \"option\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(36, \"br\");\n    i0.ɵɵelementStart(37, \"div\", 11)(38, \"label\", 23);\n    i0.ɵɵtext(39, \"Contrase\\u00F1a:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"input\", 24, 25);\n    i0.ɵɵlistener(\"ngModelChange\", function ListarUsuariosComponent_div_0_Template_input_ngModelChange_40_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(42, \"br\");\n    i0.ɵɵelementStart(43, \"div\", 11)(44, \"label\", 26);\n    i0.ɵɵtext(45, \"Confirmar Contrase\\u00F1a:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"input\", 27, 28);\n    i0.ɵɵlistener(\"ngModelChange\", function ListarUsuariosComponent_div_0_Template_input_ngModelChange_46_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.confirmPassword = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(48, \"br\");\n    i0.ɵɵelementStart(49, \"div\", 29)(50, \"button\", 30);\n    i0.ɵɵelement(51, \"i\", 31);\n    i0.ɵɵtext(52, \" Guardar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ListarUsuariosComponent_div_0_Template_button_click_53_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.mostrarNuevoUsuario = false);\n    });\n    i0.ɵɵelement(54, \"i\", 33);\n    i0.ɵɵtext(55, \" Cancelar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(56, ListarUsuariosComponent_div_0_div_56_Template, 2, 0, \"div\", 34);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(9);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.nombreUsuario);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.rolUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 4);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.sucursalUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.sucursales);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.password);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.confirmPassword);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !_r3.form.valid || ctx_r0.password !== ctx_r0.confirmPassword);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.password !== ctx_r0.confirmPassword);\n  }\n}\nfunction ListarUsuariosComponent_div_1_option_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sucursal_r25 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", sucursal_r25.identificacion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", sucursal_r25.nombre, \" \");\n  }\n}\nfunction ListarUsuariosComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"nav\", 6)(5, \"h3\", 7);\n    i0.ɵɵtext(6, \"Editar Usuario\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"form\", 9, 36);\n    i0.ɵɵlistener(\"ngSubmit\", function ListarUsuariosComponent_div_1_Template_form_ngSubmit_8_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const _r21 = i0.ɵɵreference(19);\n      const _r22 = i0.ɵɵreference(27);\n      const _r23 = i0.ɵɵreference(45);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.actualizarUsuario(ctx_r26.usuarioEdit.identificacion, _r21.value, ctx_r26.usuarioEdit.pass, _r22.value, _r23.value));\n    });\n    i0.ɵɵelementStart(10, \"label\", 12);\n    i0.ɵɵtext(11, \"Id Usuario:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 37);\n    i0.ɵɵlistener(\"ngModelChange\", function ListarUsuariosComponent_div_1_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.usuarioEdit.identificacion = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"br\")(14, \"br\");\n    i0.ɵɵelementStart(15, \"div\", 11)(16, \"label\", 12);\n    i0.ɵɵtext(17, \"Nombre de usuario:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 13, 38);\n    i0.ɵɵlistener(\"ngModelChange\", function ListarUsuariosComponent_div_1_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.usuarioEdit.nombre = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(20, \"br\");\n    i0.ɵɵelementStart(21, \"div\", 11)(22, \"label\", 12);\n    i0.ɵɵtext(23);\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵtext(25, \"Cambiar:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"select\", 39, 40)(28, \"option\", 18);\n    i0.ɵɵtext(29, \"Continuar con la que tiene\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"option\", 18);\n    i0.ɵɵtext(31, \"Administrador\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"option\", 18);\n    i0.ɵɵtext(33, \"De inventario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"option\", 18);\n    i0.ɵɵtext(35, \"Bodeguero\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"option\", 18);\n    i0.ɵɵtext(37, \"Cajero\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(38, \"br\");\n    i0.ɵɵelementStart(39, \"div\", 11)(40, \"label\", 12);\n    i0.ɵɵtext(41);\n    i0.ɵɵelement(42, \"br\");\n    i0.ɵɵtext(43, \"Cambiar:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"select\", 41, 42);\n    i0.ɵɵtemplate(46, ListarUsuariosComponent_div_1_option_46_Template, 2, 2, \"option\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(47, \"div\", 43);\n    i0.ɵɵelementStart(48, \"div\", 29)(49, \"button\", 30);\n    i0.ɵɵelement(50, \"i\", 44);\n    i0.ɵɵtext(51, \" Actualizar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ListarUsuariosComponent_div_1_Template_button_click_52_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.mostrarEditar = false);\n    });\n    i0.ɵɵelement(53, \"i\", 33);\n    i0.ɵɵtext(54, \" Cancelar\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n  if (rf & 2) {\n    const _r20 = i0.ɵɵreference(9);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.usuarioEdit.identificacion);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.usuarioEdit.nombre);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Rol del usuario \\\"\", ctx_r1.obtenerRol(ctx_r1.usuarioEdit.rol), \"\\\" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 4);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Sucursal en la que opera : \\\"\", ctx_r1.obtenerSucursal(ctx_r1.usuarioEdit.sucursal), \"\\\" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.sucursales);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !_r20.form.valid);\n  }\n}\nfunction ListarUsuariosComponent_div_2_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 29)(10, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function ListarUsuariosComponent_div_2_tr_22_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r35);\n      const user_r32 = restoredCtx.$implicit;\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.mostrarActualizar(user_r32));\n    });\n    i0.ɵɵelement(11, \"i\", 53);\n    i0.ɵɵtext(12, \" Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 54);\n    i0.ɵɵlistener(\"click\", function ListarUsuariosComponent_div_2_tr_22_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r35);\n      const user_r32 = restoredCtx.$implicit;\n      const ctx_r36 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r36.eliminarUser(user_r32));\n    });\n    i0.ɵɵelement(14, \"i\", 55);\n    i0.ɵɵtext(15, \" Eliminar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r32 = ctx.$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r32.identificacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r32.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r31.obtenerRol(user_r32.rol));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r31.obtenerSucursal(user_r32.sucursal));\n  }\n}\nfunction ListarUsuariosComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"div\", 46)(2, \"div\", 47)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function ListarUsuariosComponent_div_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.mostrarNuevoUsuario = true);\n    });\n    i0.ɵɵelement(6, \"i\", 49);\n    i0.ɵɵtext(7, \" Nuevo \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"table\", 50)(9, \"thead\")(10, \"tr\")(11, \"th\");\n    i0.ɵɵtext(12, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Rol\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"Sucursal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\", 29);\n    i0.ɵɵtext(20, \"ACCIONES\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"tbody\");\n    i0.ɵɵtemplate(22, ListarUsuariosComponent_div_2_tr_22_Template, 16, 4, \"tr\", 51);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Usuarios del sistema(\", ctx_r2.usuarios.length, \")\");\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.usuarios);\n  }\n}\nexport class ListarUsuariosComponent {\n  constructor(servicioUser, servicioSucursal) {\n    this.servicioUser = servicioUser;\n    this.servicioSucursal = servicioSucursal;\n    this.mostrarEditar = false;\n    this.mostrarNuevoUsuario = false;\n    /*para nuevo usuario */\n    this.nombreUsuario = '';\n    this.rolUsuario = '';\n    this.sucursalUsuario = '';\n    this.password = '';\n    this.confirmPassword = '';\n  }\n  getRolDB() {\n    let stringUser = localStorage.getItem('usuario');\n    let usuario = stringUser ? JSON.parse(stringUser) : null;\n    let rol = usuario ? usuario.rol : 0;\n    return rol;\n  }\n  ngOnInit() {\n    let stringUser = localStorage.getItem('usuario');\n    let usuario = stringUser ? JSON.parse(stringUser) : null;\n    let rol = usuario ? usuario.rol : 0;\n    this.servicioUser.getUsuarios(rol).subscribe(data => {\n      this.traerSucursales(rol);\n      this.usuarios = data;\n    });\n  }\n  traerSucursales(rol) {\n    this.servicioSucursal.getSucursales(rol).subscribe(data => {\n      this.sucursales = data;\n    }, error => {\n      console.log(error);\n    });\n  }\n  obtenerRol(rol) {\n    switch (rol) {\n      case 1:\n        return 'Administrador';\n      case 2:\n        return 'De inventario';\n      case 3:\n        return 'Bodeguero';\n      case 4:\n        return 'Cajero';\n      default:\n        return 'Desconocido';\n    }\n  }\n  obtenerSucursal(sucursal) {\n    switch (sucursal) {\n      case 1:\n        return 'Sucursal Parque';\n      case 2:\n        return 'Sucursal Centro1';\n      case 3:\n        return 'Sucursal Centro2';\n      default:\n        return 'desconocido';\n    }\n  }\n  veificarRol(usuario) {\n    if (usuario.rol == 0) usuario.rol = this.usuarioEdit.rol;\n    return usuario;\n  }\n  actualizarUsuario(id, nombre, pass, rol, sucural) {\n    const userAct = new Usuario(id, nombre, pass, parseInt(rol), parseInt(sucural));\n    this.servicioUser.putUsuario(this.veificarRol(userAct), this.getRolDB()).subscribe(data => {\n      console.log(data);\n      this.ngOnInit();\n      alert('El usuario ' + userAct.identificacion + ' ha sido actualizado');\n      this.usuarioEdit = userAct;\n    }, error => {\n      alert('Error al actualizar los datos del usuario ' + userAct.identificacion);\n      this.ngOnInit();\n    });\n    this.mostrarEditar = false;\n  }\n  mostrarActualizar(usuario) {\n    this.usuarioEdit = new Usuario(usuario.identificacion, usuario.nombre, usuario.pass, usuario.rol, usuario.sucursal);\n    this.usuarioEdit = usuario;\n    this.mostrarEditar = true;\n    this.mostrarNuevoUsuario = false;\n  }\n  eliminarUser(usuario) {\n    const confirmacion = confirm(\"¿Estás seguro de que deseas eliminar el usuario: \" + usuario.identificacion + \" - \" + usuario.nombre + \"?\");\n    if (confirmacion) {\n      this.servicioUser.deleteUsuario(usuario, this.getRolDB()).subscribe(data => {\n        this.ngOnInit();\n        alert(\"Se ha eliminado correctamente el usuario\");\n      });\n    }\n  }\n  crearNuevoUsuario() {\n    const userAct = new Usuario(10, this.nombreUsuario, this.confirmPassword, parseInt(this.rolUsuario), parseInt(this.sucursalUsuario));\n    this.servicioUser.postUsuario(userAct, this.getRolDB()).subscribe(data => {\n      alert(\"Se ha creado el nuevo usuario!\");\n      this.mostrarNuevoUsuario = false;\n      this.ngOnInit();\n    }, error => {\n      alert(\"Error al guardar el nuevo usuario!\");\n      this.ngOnInit();\n    });\n  }\n  static #_ = this.ɵfac = function ListarUsuariosComponent_Factory(t) {\n    return new (t || ListarUsuariosComponent)(i0.ɵɵdirectiveInject(i1.UsuariosService), i0.ɵɵdirectiveInject(i2.SucursalesService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListarUsuariosComponent,\n    selectors: [[\"app-listar-usuarios\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"container mt-2 col-md-4\", 4, \"ngIf\"], [\"class\", \"container mt-5 pt-5\", 4, \"ngIf\"], [1, \"container\", \"mt-2\", \"col-md-4\"], [1, \"row\"], [1, \"col\"], [1, \"card\", \"my-4\"], [1, \"navbar\", \"navbar-expand-lg\", \"bg-white\", \"navbar-light\", \"py-3\", \"py-lg-0\", \"px-lg-5\"], [1, \"mt-2\", \"me-4\"], [1, \"card-body\"], [3, \"ngSubmit\"], [\"nuevoUserForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nombreN\", \"ngModel\"], [\"for\", \"rol\"], [\"aria-label\", \"Default select example\", \"id\", \"combo\", \"name\", \"rol\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"comboc\", \"ngModel\"], [3, \"value\"], [\"for\", \"sucursal\"], [\"aria-label\", \"Default select example\", \"id\", \"comboS\", \"name\", \"sucursal\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"combocS\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"pass1\"], [\"type\", \"password\", \"name\", \"pass1\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"pass1\", \"ngModel\"], [\"for\", \"pass2\"], [\"type\", \"password\", \"name\", \"pass2\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"pass2\", \"ngModel\"], [1, \"text-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-2\", \"me-4\", 3, \"disabled\"], [1, \"bi\", \"bi-save\"], [1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"bi\", \"bi-x\"], [\"class\", \"alert alert-danger mt-2\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\", \"mt-2\"], [\"especialidadForm\", \"ngForm\"], [\"name\", \"id\", \"type\", \"number\", \"disabled\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"nombre\", \"\"], [\"aria-label\", \"Default select example\", \"id\", \"combo\", 1, \"form-select\"], [\"combo\", \"\"], [\"aria-label\", \"Default select example\", \"id\", \"comboS\", 1, \"form-select\"], [\"comboS\", \"\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"bi\", \"bi-arrow-repeat\"], [1, \"container\", \"mt-5\", \"pt-5\"], [1, \"card\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"aria-label\", \"Agregar usuario\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"bi\", \"bi-person-add\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-warning\", \"me-2\", \"col-sm-5\", 3, \"click\"], [1, \"bi\", \"bi-pencil\"], [1, \"btn\", \"btn-danger\", \"me-2\", \"col-sm-5\", 3, \"click\"], [1, \"bi\", \"bi-trash\"]],\n    template: function ListarUsuariosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ListarUsuariosComponent_div_0_Template, 57, 12, \"div\", 0);\n        i0.ɵɵtemplate(1, ListarUsuariosComponent_div_1_Template, 55, 11, \"div\", 0);\n        i0.ɵɵtemplate(2, ListarUsuariosComponent_div_2_Template, 23, 2, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.mostrarNuevoUsuario);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mostrarEditar);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.mostrarNuevoUsuario);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n    styles: [\".card-header[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    gap: 5px; \\n}\\n\\n.btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    font-size: 1.2rem; \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXJlYS1hZG1pbmlzdHJhZG9yL2xpc3Rhci11c3Vhcmlvcy9saXN0YXItdXN1YXJpb3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2QkFBNkI7O0FBRTdCO0lBQ0ksYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFFBQVEsRUFBRSxzQ0FBc0M7QUFDcEQ7O0FBRUE7SUFDSSxpQkFBaUIsRUFBRSxxQkFBcUI7QUFDNUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBBw4PCsWFkaXIgZW4gdHUgYXJjaGl2byBDU1MgKi9cblxuLmNhcmQtaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uYnRuLXByaW1hcnkge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDVweDsgLyogRXNwYWNpbyBlbnRyZSBlbCDDg8KtY29ubyB5IGVsIHRleHRvICovXG59XG5cbi5idG4tcHJpbWFyeSBpIHtcbiAgICBmb250LXNpemU6IDEuMnJlbTsgLyogVGFtYcODwrFvIGRlbCDDg8KtY29ubyAqL1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Usuario","i0","ListarUsuariosComponent","constructor","servicioUser","servicioSucursal","getRolDB","stringUser","localStorage","getItem","usuario","JSON","parse","rol","ngOnInit","getUsuarios","subscribe","data","traerSucursales","usuarios","getSucursales","sucursales","error","console","log","obtenerRol","obtenerSucursal","sucursal","veificarRol","usuarioEdit","actualizarUsuario","id","nombre","pass","sucural","userAct","parseInt","putUsuario","alert","identificacion","mostrarEditar","mostrarActualizar","mostrarNuevoUsuario","eliminarUser","confirmacion","confirm","deleteUsuario","crearNuevoUsuario","nombreUsuario","confirmPassword","rolUsuario","sucursalUsuario","postUsuario","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/eiler/Documentos/Universidad/SegundoSemestre2024/Archivos/Proyecto1/app/FRONTEND/src/app/area-administrador/listar-usuarios/listar-usuarios.component.ts","/home/eiler/Documentos/Universidad/SegundoSemestre2024/Archivos/Proyecto1/app/FRONTEND/src/app/area-administrador/listar-usuarios/listar-usuarios.component.html"],"sourcesContent":["import { Component,OnInit } from '@angular/core';\nimport { UsuariosService } from 'src/app/Service/usuarios.service';\nimport { SucursalesService } from 'src/app/Service/sucursales.service';\nimport { Usuario } from 'src/app/Modelo/Usuario';\nimport { Sucursal } from 'src/app/Modelo/Sucursal';\n\n@Component({\n  selector: 'app-listar-usuarios',\n  templateUrl: './listar-usuarios.component.html',\n  styleUrls: ['./listar-usuarios.component.css']\n})\nexport class ListarUsuariosComponent {\n  constructor(private servicioUser:UsuariosService, private servicioSucursal:SucursalesService){}\n  mostrarEditar: boolean = false;\n  mostrarNuevoUsuario: boolean = false;\n  usuarios!:Usuario[]\n  sucursales!:Sucursal[]\n  usuarioEdit!:Usuario\n  nuevoUsuario!:Usuario\n\n  /*para nuevo usuario */\n  nombreUsuario: string = '';\n  rolUsuario: string  = '';\n  sucursalUsuario: string  = '';\n  password: string = '';\n  confirmPassword: string = '';\n\n  getRolDB():number{\n    let stringUser = localStorage.getItem('usuario');\n    let usuario:Usuario = stringUser? JSON.parse(stringUser):null;\n    let rol = usuario? usuario.rol:0;\n    return rol;\n  }\n  ngOnInit():void{\n    let stringUser = localStorage.getItem('usuario');\n    let usuario:Usuario = stringUser? JSON.parse(stringUser):null;\n    let rol = usuario? usuario.rol:0;\n    this.servicioUser.getUsuarios(rol).subscribe(data => {\n      this.traerSucursales(rol)\n      this.usuarios = data;\n      \n    })\n    \n  }\n  traerSucursales(rol:number){\n    this.servicioSucursal.getSucursales(rol).subscribe(data=>{\n      this.sucursales=data;\n    },error=>{console.log(error)})\n  }\n  obtenerRol(rol: number): string {\n    switch (rol) {\n      case 1:\n        return 'Administrador';\n      case 2:\n        return 'De inventario';\n      case 3:\n        return 'Bodeguero';\n      case 4:\n        return 'Cajero';\n      default:\n        return 'Desconocido';\n    }\n  }\n\n  obtenerSucursal(sucursal:number):string{\n    switch (sucursal) {\n      case 1:\n        return 'Sucursal Parque';\n      case 2:\n        return 'Sucursal Centro1';\n      case 3:\n        return 'Sucursal Centro2';\n      default:\n        return 'desconocido';\n    }\n  }\n\n  veificarRol(usuario:Usuario):Usuario{\n    if(usuario.rol==0) usuario.rol=this.usuarioEdit.rol;\n    return usuario;\n  }\n  actualizarUsuario(id:number,nombre:String,pass:String,rol:string,sucural:string){\n    const userAct= new Usuario(id,nombre,pass,parseInt(rol),parseInt(sucural))\n    this.servicioUser.putUsuario(this.veificarRol(userAct),this.getRolDB()).subscribe(data=>{\n      console.log(data)\n      this.ngOnInit();\n      alert('El usuario ' + userAct.identificacion + ' ha sido actualizado');\n      \n      this.usuarioEdit=userAct;\n    }, error=>{\n      alert('Error al actualizar los datos del usuario '+userAct.identificacion);\n      this.ngOnInit();\n    })\n    this.mostrarEditar=false\n    \n  }\n  mostrarActualizar(usuario:Usuario){\n    this.usuarioEdit=new Usuario(usuario.identificacion,usuario.nombre,usuario.pass,usuario.rol,usuario.sucursal);\n    this.usuarioEdit=usuario;\n    this.mostrarEditar=true;\n    this.mostrarNuevoUsuario=false\n  }\n\n  eliminarUser(usuario:Usuario){\n    const confirmacion = confirm(\"¿Estás seguro de que deseas eliminar el usuario: \"+usuario.identificacion + \" - \"+usuario.nombre  + \"?\");\n    if(confirmacion){\n      this.servicioUser.deleteUsuario(usuario,this.getRolDB()).subscribe(data=>{\n        this.ngOnInit();\n        alert(\"Se ha eliminado correctamente el usuario\")\n      })\n    }\n  }\n\n  crearNuevoUsuario(){\n    const userAct= new Usuario(10,this.nombreUsuario,this.confirmPassword,parseInt(this.rolUsuario),parseInt(this.sucursalUsuario))\n    this.servicioUser.postUsuario(userAct,this.getRolDB()).subscribe(data=>{\n      alert(\"Se ha creado el nuevo usuario!\")\n      this.mostrarNuevoUsuario=false;\n      this.ngOnInit()\n    },error=>{\n      alert(\"Error al guardar el nuevo usuario!\")\n      this.ngOnInit()\n    })\n  }\n}\n","<div class=\"container mt-2 col-md-4\" *ngIf=\"mostrarNuevoUsuario\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"card my-4\">\n                <nav class=\"navbar navbar-expand-lg bg-white navbar-light py-3 py-lg-0 px-lg-5\">\n                    <h3 class=\"mt-2 me-4\">Nuevo Usuario</h3>\n                </nav>\n\n                <div class=\"card-body\">\n                    <form (ngSubmit)=\"crearNuevoUsuario()\" #nuevoUserForm=\"ngForm\">\n                        \n                        <div class=\"form-group\">\n                            <label for=\"name\">Nombre de usuario:</label>\n                            <input type=\"text\" class=\"form-control\" name=\"name\" #nombreN=\"ngModel\" [(ngModel)]=\"nombreUsuario\" required>\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                            <label for=\"rol\">Rol del usuario:</label>\n                            <select class=\"form-select\" aria-label=\"Default select example\" id=\"combo\" #comboc=\"ngModel\" [(ngModel)]=\"rolUsuario\" name=\"rol\" required>\n                                <option [value]=\"1\">Administrador</option>\n                                <option [value]=\"2\">De inventario</option>\n                                <option [value]=\"3\">Bodeguero</option>\n                                <option [value]=\"4\">Cajero</option>\n                            </select>\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                            <label for=\"sucursal\">Sucursal en la que trabajará:</label>\n                            <select class=\"form-select\" aria-label=\"Default select example\" id=\"comboS\" #combocS=\"ngModel\" [(ngModel)]=\"sucursalUsuario\" name=\"sucursal\" required>\n                                <option *ngFor=\"let sucursal of sucursales\" [value]=\"sucursal.identificacion\">\n                                    {{ sucursal.nombre }}\n                                </option>\n                            </select>\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                            <label for=\"pass1\">Contraseña:</label>\n                            <input type=\"password\" class=\"form-control\" name=\"pass1\" #pass1=\"ngModel\" [(ngModel)]=\"password\" required>\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                            <label for=\"pass2\">Confirmar Contraseña:</label>\n                            <input type=\"password\" class=\"form-control\" name=\"pass2\" #pass2=\"ngModel\" [(ngModel)]=\"confirmPassword\" required>\n                        </div>\n                        <br>\n                        <div class=\"text-center\">\n                            <!-- Asegúrate de comparar los valores de los campos, no las referencias -->\n                            <button type=\"submit\" class=\"btn btn-success mt-2 me-4\"\n                                [disabled]=\"!nuevoUserForm.form.valid || password !== confirmPassword\"> <i class=\"bi bi-save\"></i> Guardar</button>\n                            <button class=\"btn btn-info\" (click)=\"mostrarNuevoUsuario=false\"> <i class=\"bi bi-x\"></i> Cancelar</button>\n                        </div>\n                        <!-- Mostrar un mensaje de error si las contraseñas no coinciden -->\n                        <div *ngIf=\"password !== confirmPassword\" class=\"alert alert-danger mt-2\">\n                            Las contraseñas no coinciden.\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div class=\"container mt-2 col-md-4\" *ngIf=\"mostrarEditar\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"card my-4\">\n                <nav class=\"navbar navbar-expand-lg bg-white navbar-light py-3 py-lg-0 px-lg-5\">\n                    <h3 class=\"mt-2 me-4\">Editar Usuario</h3>\n                </nav>\n\n                <div class=\"card-body\">\n                    <form (ngSubmit)=\"actualizarUsuario(usuarioEdit.identificacion,nombre.value,usuarioEdit.pass,combo.value,comboS.value)\" #especialidadForm=\"ngForm\">\n                        <label for=\"name\">Id Usuario:</label>\n                        <input [(ngModel)]=\"usuarioEdit.identificacion\" name=\"id\" type=\"number\" disabled>\n                        <br><br>\n                        <div class=\"form-group\">\n                            <label for=\"name\">Nombre de usuario:</label>\n                            <input [(ngModel)]=\"usuarioEdit.nombre\" type=\"text\" class=\"form-control\"\n                                name=\"name\" #nombre required>\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                            <label for=\"name\">Rol del usuario \"{{obtenerRol(usuarioEdit.rol)}}\" <br>Cambiar:</label>\n                            <select class=\"form-select\"  aria-label=\"Default select example\" id=\"combo\" #combo>\n                                <option [value]=\"0\">Continuar con la que tiene</option>\n                                <option [value]=\"1\">Administrador</option>\n                                <option [value]=\"2\">De inventario</option>\n                                <option [value]=\"3\">Bodeguero</option>\n                                <option [value]=\"4\">Cajero</option>\n                            </select>\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                            <label for=\"name\">Sucursal en la que opera : \"{{obtenerSucursal(usuarioEdit.sucursal)}}\" <br>Cambiar:</label>\n                            <select class=\"form-select\" aria-label=\"Default select example\" id=\"comboS\" #comboS>\n                                <option *ngFor=\"let sucursal of sucursales\" value=\"{{sucursal.identificacion}}\">\n                                    {{ sucursal.nombre }}\n                            </select>\n                        </div>\n                        \n                        <div class=\"d-flex justify-content-between\"></div>\n                        <div class=\"text-center\">\n                            <button type=\"submit\" class=\"btn btn-success mt-2 me-4\"\n                                [disabled]=\"!especialidadForm.form.valid\"><i class=\"bi bi-arrow-repeat\"></i> Actualizar</button>\n                            <button class=\"btn btn-info\" (click)=\"mostrarEditar=false\"><i class=\"bi bi-x\"></i> Cancelar</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div class=\"container mt-5 pt-5\" *ngIf=\"!mostrarNuevoUsuario\">\n    <div class=\"card\">\n        <div class=\"card-header d-flex justify-content-between align-items-center\">\n            <h3>Usuarios del sistema({{usuarios.length}})</h3>\n            <button class=\"btn btn-primary\" aria-label=\"Agregar usuario\" (click)=\"mostrarNuevoUsuario=true\">\n                <i class=\"bi bi-person-add\"></i> Nuevo\n            </button>\n        </div>\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Nombre</th>\n                    <th>Rol</th>\n                    <th>Sucursal</th>\n                    <th class=\"text-center\">ACCIONES</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let user of usuarios; let i = index\">\n                    <td>{{user.identificacion}}</td>\n                    <td>{{user.nombre}}</td>\n                    <td>{{obtenerRol(user.rol)}}</td>\n                    <td>{{obtenerSucursal(user.sucursal)}}</td>\n                    <td class=\"text-center\">\n                        <button class=\"btn btn-warning me-2 col-sm-5\" (click)=\"mostrarActualizar(user)\"> <i class=\"bi bi-pencil\"></i>   Editar</button>\n                        <button class=\"btn btn-danger me-2 col-sm-5\" (click)=\"eliminarUser(user)\"><i class=\"bi bi-trash\"></i> Eliminar</button>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}